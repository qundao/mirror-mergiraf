Taken from https://codeberg.org/mergiraf/mergiraf/issues/262
